**单一职责原则** 

单一职责原则（SRP）的职责被定义为“引起变化的原因”。。如果我们有两个动机去改写一 个方法，那么这个方法就具有两个职责。每个职责都是变化的一个轴线，如果一个方法承担了过 多的职责，那么在需求的变迁过程中，需要改写这个方法的可能性就越大。 

修改代码总是一件危险的事情，特别是当两个职 责耦合在一起的时候，一个职责发生变化可能会影响到其他职责的实现，造成意想不到的破坏， 这种耦合性得到的是低内聚和脆弱的设计。 

因此，SRP原则体现为：一个对象（方法）只做一件事情。 



 何时应该分离职责 

要明确的是，并不是所有的职责都应该一一分离。



一方面，如果随着需求的变化，有两个职责总是同时变化，那就不必分离他们。比如在 ajax 请求的时候，创建 xhr 对象和发送 xhr 请求几乎总是在一起的，那么创建 xhr 对象的职责和发送 xhr 请求的职责就没有必要分开。 另一方面，职责的变化轴线仅当它们确定会发生变化时才具有意义，即使两个职责已经被耦 合在一起，但它们还没有发生改变的征兆，那么也许没有必要主动分离它们，在代码需要重构的 时候再进行分离也不迟。 



**最少知识原则**

**最少知识原则（LKP）说的是一个软件实体应当尽可能少地与其他实体发生相互作用**

**减少对象之间的联系** 



单一职责原则指导我们把对象划分成较小的粒度，这可以提高对象的可复用性。但越来越 多的对象之间可能会产生错综复杂的联系，如果修改了其中一个对象，很可能会影响到跟它相 互引用的其他对象。对象和对象耦合在一起，有可能会降低它们的可复用性。在程序中，对象 的“朋友”太多并不是一件好事，“城门失火，殃及池鱼”和“一人犯法，株连九族”的故事 时有发生。 



最少知识原则要求我们在设计程序时，应当尽量减少对象之间的交互。如果两个对象之间不 必彼此直接通信，那么这两个对象就不要发生直接的相互联系。常见的做法是引入一个第三者对 象，来承担这些对象之间的通信作用。



**最少知识原则在设计模式中体现得最多的地方是中介者模式和外观模式** 



**中介者模式**

通过增加一个中介者对象，让所有的相关对象都通 过中介者对象来通信，而不是互相引用。所以，当一个对象发生改变时，只需要通知中介者对象 即可。  

 **外观模式** 

为外观模式在 JavaScript中的使用场景并不多。外 观模式主要是为子系统中的一组接口提供一个一致的界面，外观模式定义了一个高层接口，这个 接口使子系统更加容易使用



现在再来看看外观模式和最少知识原则之间的关系。外观模式的作用主要有两点。  为一组子系统提供一个简单便利的访问入口。  隔离客户与复杂子系统之间的联系，客户不用去了解子系统的细节。 

比如全自动洗衣机的一键洗衣按钮，隔开了 客户和浸泡、洗衣、漂洗、脱水这些子系统的直接联系，客户不用去了解这些子系统的具体实现。



 **开放-封闭原则** 

开放封闭原则早由 Eiffel语言的设计者 Bertrand Meyer在其著作 Object-Oriented Software Construction中提出。它的定义如下： 软件实体（类、模块、函数）等应该是可以扩展的，但是不可修改。 



**开放封闭原则的思想**：当需要改变一个程序的功能或者给这个程序增加新功 能的时候，可以使用增加代码的方式，但是不允许改动程序的源代码。 













